# Question: (Medium)

In an array A of 0s and 1s, how many non-empty subarrays have sum S?

## Example 1:

> Input: A = [1,0,1,0,1], S = 2 <br>
> Output: 4 <br>
> Explanation: <br>
>The 4 subarrays are bolded below: <br>
>[**1,0,1,**0,1] <br>
>[**1,0,1,0,**1] <br>
>[1,**0,1,0,1**] <br>
>[1,0,**1,0,1**] <br>
 
## Note:

* A.length <= 30000

* 0 <= S <= A.length

* A[i] is either 0 or 1.

# 解析：

本题给定一个二进制字符串，问有多少个子串和为S。主要分为两种情况:求和S为0的情况和所求和大于0的情况。

以"000110"为例:

若S==0，前三个0可以贡献出6个子串 (3\*(3+1)/2)："0","0","0","00","00","000"。加上最后一个0一共是7个。

若S==2，肯定需要"11", 我们称之为基础子串，在"11"的基础上向两端扩展，会有"11","011","0011","00011","110","0110","00110","000110",一共是4\*2=8个。

我们发现规律：当S=0时，每一段连续n个0会产生(n(n+1)/2)个满足条件的子串。当S>0时，基础子串两头的0的个数很重要，当基础子串两头分别有m和n个连续0时，满足条件的子串会有(m+1)(n+1)个。因此我们记录任何两个1之间0的个数，两个连续的1也算中间有0个0。再用两个指针front和rear指向基础子串的头和尾，枚举出所有的基础子串，同时计算符合的拓展子串。